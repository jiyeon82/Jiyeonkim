<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ì¹´í˜ í‚¤ì˜¤ìŠ¤í¬ ì—°ìŠµ</title>
<style>
body{
  font-family:'Malgun Gothic',sans-serif;
  background:#f2f4f7;margin:0;font-size:20px;
}
.screen{display:none;padding:20px;}
.screen.active{display:block;}
h1{text-align:center;font-size:2.3rem;}

.btn{
  background:#2d6a4f;color:white;
  padding:22px;border-radius:20px;
  font-size:1.5rem;width:70%;
  margin:20px auto;text-align:center;
  cursor:pointer;
}
.btn.gray{background:#6c757d;}

.menu{
  display:grid;grid-template-columns:repeat(2,1fr);gap:20px;
}
.item{
  background:white;border-radius:20px;padding:20px;
  text-align:center;cursor:pointer;
}
.item span{font-size:4rem;}

.box{
  background:white;border-radius:20px;
  padding:20px;margin-bottom:15px;
}

/* ì˜µì…˜ */
.opt{
  background:#dee2e6;border-radius:15px;
  padding:15px;margin:10px 0;text-align:center;
  cursor:pointer;font-size:1.3rem;
}
.opt.selected{
  background:#2d6a4f;
  color:white;
  font-weight:bold;
}

.row{
  display:flex;justify-content:space-between;align-items:center;
  margin:10px 0;
}
.qbtn{
  background:#ced4da;border-radius:10px;
  padding:6px 12px;cursor:pointer;
}

.money{
  display:flex;flex-wrap:wrap;gap:10px;justify-content:center;
}
.bill{
  background:#495057;color:white;
  padding:15px 20px;border-radius:15px;
  cursor:pointer;
}

.total{text-align:center;font-size:1.6rem;margin:15px 0;}
.success{text-align:center;font-size:1.6rem;color:#2d6a4f;}
</style>
</head>

<body>

<!-- ì‹œì‘ -->
<div class="screen active" id="start">
  <h1>â˜• ì¹´í˜ í‚¤ì˜¤ìŠ¤í¬ ì—°ìŠµ</h1>
  <div class="btn" onclick="go('menu')">ì£¼ë¬¸ ì‹œì‘</div>
</div>

<!-- ë©”ë‰´ -->
<div class="screen" id="menu">
  <h1>ë©”ë‰´ ì„ íƒ</h1>
  <div class="menu">
    <div class="item" onclick="selectMenu('ì•„ë©”ë¦¬ì¹´ë…¸',3000)">
      <span>â˜•</span><br>ì•„ë©”ë¦¬ì¹´ë…¸<br>3,000ì›
    </div>
    <div class="item" onclick="selectMenu('ì¹´í˜ë¼ë–¼',3500)">
      <span>ğŸ¥›</span><br>ì¹´í˜ë¼ë–¼<br>3,500ì›
    </div>
    <div class="item" onclick="selectMenu('ë°”ë‹ë¼ë¼ë–¼',4000)">
      <span>ğŸ¦</span><br>ë°”ë‹ë¼ë¼ë–¼<br>4,000ì›
    </div>
    <div class="item" onclick="selectMenu('í•«ì´ˆì½”',3500)">
      <span>ğŸ«</span><br>í•«ì´ˆì½”<br>3,500ì›
    </div>
  </div>
</div>

<!-- ì˜µì…˜ -->
<div class="screen" id="option">
  <h1>ì˜µì…˜ ì„ íƒ</h1>

  <div class="box" id="sizeBox">
    <b>ì‚¬ì´ì¦ˆ</b>
    <div class="opt" onclick="setSize(this,'Small')">Small</div>
    <div class="opt" onclick="setSize(this,'Regular')">Regular</div>
    <div class="opt" onclick="setSize(this,'Large')">Large (+1,000ì›)</div>
  </div>

  <div class="box" id="sugarBox">
    <b>ë‹¹ë„</b>
    <div class="opt" onclick="setSugar(this,'0%')">0%</div>
    <div class="opt" onclick="setSugar(this,'50%')">50%</div>
    <div class="opt" onclick="setSugar(this,'100%')">100%</div>
  </div>

  <div class="btn" onclick="addItem()">ë‹´ê¸°</div>
  <div class="btn gray" onclick="go('cart')">ì¥ë°”êµ¬ë‹ˆë¡œ ì´ë™</div>
</div>

<!-- ì¥ë°”êµ¬ë‹ˆ -->
<div class="screen" id="cart">
  <h1>ì£¼ë¬¸ ë‚´ì—­</h1>
  <div class="box" id="cartList"></div>
  <div class="total">í•©ê³„: <b><span id="sum">0</span>ì›</b></div>
  <div class="btn" onclick="go('paySelect')">ê²°ì œí•˜ê¸°</div>
</div>

<!-- ê²°ì œ ì„ íƒ -->
<div class="screen" id="paySelect">
  <h1>ê²°ì œ ë°©ë²• ì„ íƒ</h1>
  <div class="btn" onclick="go('card')">ğŸ’³ ì¹´ë“œ ê²°ì œ</div>
  <div class="btn gray" onclick="go('cash')">ğŸ’µ í˜„ê¸ˆ ê²°ì œ</div>
</div>

<!-- ì¹´ë“œ -->
<div class="screen" id="card">
  <h1>ì¹´ë“œ ê²°ì œ</h1>
  <div class="success">ì¹´ë“œë¥¼ ë„£ì–´ì£¼ì„¸ìš”</div>
  <div class="btn" onclick="go('done')">ê²°ì œ ì™„ë£Œ</div>
</div>

<!-- í˜„ê¸ˆ -->
<div class="screen" id="cash">
  <h1>í˜„ê¸ˆ ë„£ê¸°</h1>
  <div class="money">
    <div class="bill" onclick="pay(1000)">1,000ì›</div>
    <div class="bill" onclick="pay(5000)">5,000ì›</div>
    <div class="bill" onclick="pay(10000)">10,000ì›</div>
  </div>
  <div class="total">ë‚¸ ëˆ: <b><span id="paid">0</span>ì›</b></div>
</div>

<!-- ì”ëˆ -->
<div class="screen" id="change">
  <h1>ì”ëˆ ë°›ê¸°</h1>
  <div class="money" id="changeBtns"></div>
  <div class="total">ë°›ì€ ì”ëˆ: <b><span id="got">0</span>ì›</b></div>
</div>

<!-- ì™„ë£Œ -->
<div class="screen" id="done">
  <h1>ì£¼ë¬¸ ì™„ë£Œ</h1>
  <div class="success">ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ˜Š</div>
  <div class="btn" onclick="reset()">ë‹¤ì‹œ ì£¼ë¬¸</div>
</div>

<script>
let cart=[], menu='', base=0, size='', sugar='';
let sum=0, paid=0, got=0, change=0;

function go(id){
  document.querySelector('.screen.active').classList.remove('active');
  document.getElementById(id).classList.add('active');
}

function selectMenu(m,p){
  menu=m;base=p;size='';sugar='';
  clearSelect();
  go('option');
}

/* âœ… ê° ê·¸ë£¹ë³„ë¡œë§Œ ì„ íƒ ì²˜ë¦¬ */
function setSize(el,v){
  size=v;
  document.querySelectorAll('#sizeBox .opt')
    .forEach(o=>o.classList.remove('selected'));
  el.classList.add('selected');
}

function setSugar(el,v){
  sugar=v;
  document.querySelectorAll('#sugarBox .opt')
    .forEach(o=>o.classList.remove('selected'));
  el.classList.add('selected');
}

function clearSelect(){
  document.querySelectorAll('.opt')
    .forEach(o=>o.classList.remove('selected'));
}

function addItem(){
  if(!size || !sugar){
    alert('ì‚¬ì´ì¦ˆì™€ ë‹¹ë„ë¥¼ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš”');
    return;
  }
  let price=base+(size==='Large'?1000:0);
  cart.push({menu,size,sugar,price,qty:1});
  renderCart();
  clearSelect();
}

function renderCart(){
  sum=0;
  let html='';
  cart.forEach((i,idx)=>{
    sum+=i.price*i.qty;
    html+=`
      <div class="row">
        ${i.menu} (${i.size}/${i.sugar})
        <div>
          <span class="qbtn" onclick="chg(${idx},-1)">â–</span>
          ${i.qty}
          <span class="qbtn" onclick="chg(${idx},1)">â•</span>
        </div>
      </div>`;
  });
  document.getElementById('cartList').innerHTML=html||'ì„ íƒí•œ ë©”ë‰´ê°€ ì—†ìŠµë‹ˆë‹¤';
  document.getElementById('sum').innerText=sum;
}

function chg(i,d){
  cart[i].qty+=d;
  if(cart[i].qty<=0) cart.splice(i,1);
  renderCart();
}

function pay(m){
  paid+=m;
  document.getElementById('paid').innerText=paid;
  if(paid>=sum){
    change=paid-sum;
    showChange();
    go('change');
  }
}

function showChange(){
  let html='';
  if(change>=1000) html+=`<div class="bill" onclick="getC(1000)">1,000ì›</div>`;
  if(change>=500) html+=`<div class="bill" onclick="getC(500)">500ì›</div>`;
  document.getElementById('changeBtns').innerHTML=html;
}

function getC(m){
  if(got+m>change) return;
  got+=m;
  document.getElementById('got').innerText=got;
  if(got===change) go('done');
}

function reset(){
  cart=[];sum=paid=got=change=0;
  document.getElementById('paid').innerText=0;
  document.getElementById('got').innerText=0;
  clearSelect();
  go('start');
}
</script>

</body>
</html>